
@{
    ViewBag.Title = "CreateUser";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>CreateUser</h2>
<script type="text/javascript">
    function ValidUserInfo() {
        var pwd = $("#Password").val();
        var confirmPwd = $("#ConfirmPassword").val();
        if (pwd.length < 6) {
            alert("Password length must greater than 6.")
            return false;
        }
        if (pwd != confirmPwd) {
            alert("Twp Password different.")
            return false;
        }

    }
</script>
@using (Html.BeginForm("CreateUser", "Admin", FormMethod.Post, new { @class = "form-horizontal", role = "form", onsubmit = "return ValidUserInfo();" }))
{
    @Html.AntiForgeryToken()
    <div class="form-group">
        <label class="col-md-2 control-label" for="Email">Email</label>
        <div class="col-md-10">
            <input class="form-control" required="required" id="Email" name="Email" type="email" value="">
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label" for="Password">Password</label>
        <div class="col-md-10">
            <input class="form-control" required="required" id="Password" name="Password" type="password">
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label" for="ConfirmPassword">Confirm password</label>
        <div class="col-md-10">
            <input class="form-control" required="required" id="ConfirmPassword" name="ConfirmPassword" type="password">
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label" for="Name">Name</label>
        <div class="col-md-10">
            <input class="form-control" required="required" id="Name" name="Name" type="text" value="">
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label" for="Gender">Gender</label>
        <div class="col-md-10">
            <span>Female </span><input checked="checked" id="UserType1" name="Gender" type="radio" value="Female">
            <span> | Male </span><input id="UserType2" name="Gender" type="radio" value="Male">
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label" for="DOB">Date of birth</label>
        <div class="col-md-10">
            <input class="text-box single-line valid" required="required" id="DOB" name="DOB" type="date" min="" aria-describedby="DOB-error" aria-invalid="false" max="2022-10-18">
        </div>
    </div>
    <div class="form-group">
        <label class="col-md-2 control-label" for="UserType">Role </label>
        <div class="col-md-10">
            <span>Patient </span><input checked="checked" required="required" id="UserType1" name="UserType" type="radio" value="Patient">
            <span> | Psychologist </span><input id="UserType2" name="UserType" type="radio" value="Psychologist">
            <span> | Admin </span><input id="UserType2" name="UserType" type="radio" value="Admin">
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-default" value="Save">
        </div>
    </div>
    <script type="text/javascript">
        const date = formatDate(new Date()).split(' ');

        const dateDOB = document.getElementById('DOB');
        dateDOB.max = date;

        function formatDate(date) {
            return [date.getFullYear(),
            (date.getMonth() + 1).toString().padStart(2, '0'),
            (date.getDate()).toString().padStart(2, '0')].join('-');
        }
    </script>
}
<br/>
<div>
    @Html.ActionLink("Back to List", "ManageUser")
</div>