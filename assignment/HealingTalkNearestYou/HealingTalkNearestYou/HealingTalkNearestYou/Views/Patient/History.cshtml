@model IEnumerable<HealingTalkNearestYou.Models.Counselling>

@{
    ViewBag.Title = "History";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>History</h2>

<table class="table">
    <tr>
        <th>
            Counselling Time
        </th>
        <th>
            Counselling Status
        </th>
        <th>
            Psychologist Name
        </th>
        <th>
            Rate
        </th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.CDateTime)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CStatus)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Psychologist.PsyName)
        </td>
        <td>
            @if (item.CRate == null)
            {
                @Html.ActionLink("Rate", "Rate", new { id = item.CId })
            }
            else
            {
                for (int i = 0; i < item.CRate; i++)
                {
                    <span class="glyphicon glyphicon-star"></span>
                }
                for (int i = (int)item.CRate; i < 5; i++)
                {
                    <span class="glyphicon glyphicon-star-empty"></span>
                }
            }
        </td>
    </tr>
}

</table>
